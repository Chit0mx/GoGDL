<agm-map [latitude]="lat" [longitude]="lng">
  <agm-marker
    *ngFor="let lugar of lugares"
    [latitude]="lugar.lat"
    [longitude]="lugar.lng"
  ></agm-marker>
</agm-map>
<br />
<div class="container">
  <div class="row">
    <div class="col-md-8">
      <h2>Lugares Cercanos</h2>
      <br />
      <input
        class="form-control mr-sm-2"
        type="search"
        name="filterLugar"
        placeholder="Buscar"
        aria-label="Search"
        [(ngModel)]="filterLugar"
      />
      <br />
      <ul class="list-group" *ngIf = "!mC">
        <h2>Lista Original</h2>
        <ng-container *ngFor="let lugar of (lugares | filter: filterLugar)">
          <span (onCreate)="mostrarCal(lugar.calificacion[1], lugar.calificacion[2], lugar.calificacion[3], lugar.calificacion[4], lugar.calificacion[5], lugar)"></span>
          <!--<a routerLink="/detalle/{{ lugar.id }}" 
          *ngIf="(lat <= lugar.lat + constante &&
            lat >= lugar.lat - constante &&
            lng <= lugar.lng + constante &&
            lng >= lugar.lng - constante)">-->
          <a routerLink="/detalle/{{ lugar.id }}">
            <li class="list-group-item">
            <div *ngIf="(lugar.AtraccionPrincipal)">
                Sucursal de
            </div>
            {{ lugar.nombre }}
          </li></a>
        </ng-container>
      </ul>
      <ul class="list-group" *ngIf = "mC">
          <h2>Lista filtrada</h2>
          <ng-container *ngFor="let lugar of (lugares | filter: filterLugar)">
            <a routerLink="/detalle/{{ lugar.id }}"><li class="list-group-item">{{ lugar.nombre }}</li></a>
          </ng-container>
        </ul>
      <br>
      <br>
      <h2 class="text-center">Eventos y promociones</h2>
      <br />
      <input
        class="form-control mr-sm-2"
        type="search"
        name="filtroArt"
        placeholder="Buscar"
        aria-label="Search"
        [(ngModel)]="filtroArt"
      />
      <br>
    <br>
    <ul class="list-group">
        <ng-container *ngFor="let articulo of (articulos | filtro: filtroArt)">
            <a routerLink="/detalle/{{ articulo.atraccion }}"><li class="list-group-item">{{ articulo.titulo }}</li></a>
          </ng-container>
    </ul>
    </div>
    <div class="col-md-4">
        <br>
        <br>
        <h3 class="text-center">Filtros</h3>
        <br>
        <br>
        <a  class="botonLS btn btn-primary mx-3" style="background-color: #b80f22; color: white " >Mayor Número de visitas</a>
        <br>
        <br>
        <a  class="botonLS btn btn-primary mx-3" (click)="mayorCalificacion()" style="background-color: #b80f22; color: white " >Mayor Calificación</a>
        <br>
      </div>
  </div>
</div>
<br />
<app-footer></app-footer>
